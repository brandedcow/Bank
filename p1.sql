CREATE TABLE P1.Customer ( ID INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY ( START WITH 100 INCREMENT BY 1 NO CACHE ) PRIMARY KEY, Name VARCHAR(15) NOT NULL, Gender CHAR(1) NOT NULL, Age INTEGER NOT NULL, pin INTEGER NOT NULL);
ALTER TABLE P1.Customer ADD CONSTRAINT GenderConstraint CHECK ( gender='M' or gender ='F' ) ENFORCED;
ALTER TABLE P1.Customer ADD CONSTRAINT AgeConstraint CHECK ( age >= 0 ) ENFORCED;
ALTER TABLE P1.Customer ADD CONSTRAINT PinConstraint CHECK ( pin >= 0 ) ENFORCED;

CREATE TABLE P1.Account (
NUMBER INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1000 INCREMENT BY 1 NO CACHE ) PRIMARY KEY,
ID INTEGER NOT NULL,
BALANCE INTEGER NOT NULL,
TYPE CHAR NOT NULL,
STATUS CHAR NOT NULL,
	Foreign Key customer_id (ID) References p1.customer on delete no action
);

ALTER TABLE P1.Account ADD CONSTRAINT BalanceConstraint CHECK ( balance >= 0 ) ENFORCED;
ALTER TABLE P1.Account ADD CONSTRAINT TypeConstraint CHECK ( type='C' or type='S') ENFORCED;
ALTER TABLE P1.Account ADD CONSTRAINT StatusConstraint CHECK ( status='A' or status='I') ENFORCED;
ALTER TABLE P1.ACCOUNT ALTER COLUMN STATUS SET DEFAULT 'A';
